{% extends "base.html" %}

{% block content %}

    <div id="tf-program-show-detail">
        
        <div class="row">
            
            <div class="col-xs-12 col-sm-3">
                <p class="visible-xs-block title tf-show-name"><a href="{% url 'program:show_detail' show.id %}">{{ show.name }}</a></p>
                <p class="visible-xs-block company tf-company-name">{{ show.company.name }}</p>
                {% if show.image %}
                    <div class="image">
                        <img src="{{ MEDIA_ROOT }}{{ show.image.url }}" />
                    </div>
                {% endif %}
                <div class="info1">
                    {% if show.display_genres %}
                        <p class="genres hidden-xs">
                            {{ show.display_genres }}
                        </p>
                    {% endif %}
                    {% if show.display_genre_warnings %}
                        <p class="genre-warnings">
                            {{ show.display_genre_warnings }}
                        </p>
                    {% endif %}
                    {% if show.age_range %}
                        <p class="age-range">Age {{ show.age_range }}</p>
                    {% endif %}
                    {% if show.duration %}
                        <p class="duration">{{ show.duration }} mins</p>
                    {% endif %}
                </div>
                <div class="info2">
                    <p class="venue">{{ show.venue.name }}</p>
                    {% if show.performances.all %}
                        <div class="performances">
                            {% for performance in show.performances.all %}
                                <p class="performance"><a href="{% url 'tickets:buy' performance.id %}">{{ performance.date_time|date:'l P' }}</a></p>
                            {% endfor %}
                        </div>
                    {% endif %}
                </div>
            </div>

            <div class="col-xs-12 col-sm-9">
                <p class="hidden-xs title tf-show-name">{{ show.name }}</p>
                <p class="hidden-xs company tf-company-name">{{ show.company.name }}</p>
                <p class="description">{{ show.long_description | linebreaks }}</p>
                <div class="social-media">
                    {% if show.website %}
                        <p class="website"><a href="{{ show.website }}" target="_blank">{{ show.website }}</a></p>
                    {% endif %}
                    {% if show.twitter %}
                        <p class="twitter"><a href="https://twitter.com/{{ show.twitter }}" target="_blank">Twitter: {{ show.twitter }}</a></p>
                    {% endif %}
                    {% if show.instagram %}
                        <p class="instagram"><a href="https://www.instagram.com/{{ show.instagram }}" target="_blank">Instagram: {{ show.instagram }}</a></p>
                    {% endif %}
                    {% if show.facebook %}
                        <p class="facebook"><a href="https://www.facebook.com/{{ show.facebook }}" target="_blank">Facebook: {{ show.facebook }}</a></p>
                    {% endif %}
                </div>
                {% if show.reviews.all %}
                    <p class="reviews">Reviews</p>
                    {% for review in show.reviews.all %}
                    <div class="review">
                        <div class="head">
                            <span class="rating">{{ review.get_rating_display }}</span>
                            <span class="source">{{ review.source }}</span>
                            {% if review.url %}
                                <a class="url" href="{{ review.url }}" target="_blank">Here</a>
                            {% endif %}
                        </div>
                        <div class="body">
                            {{ review.body }}
                        </div>
                    </div>
                    {% endfor %}
                {% endif %}
            </div>
            
        </div>

    </div>

{% endblock %}

